{% extends 'mercado/base_mercado.html' %}
{% load custom_tags %}

{% block title %}Registrarse{% endblock %}

{% block buttons %}
{% endblock %}

{% block content %}
<div class="container mt-5">
    <h4 class="text-center">Cree su cuenta</h4>
    <div class="d-flex justify-content-center mt-4">
        <form method="post" class="w-50">
            {% csrf_token %}
            {% if form.non_field_errors %}
                <div class="alert alert-danger">{{ form.non_field_errors }}</div>
            {% endif %}
            <div class="form-group">
                <label for="{{ form.first_name.id_for_label }}" class="form-label">Nombre</label>
                {{ form.first_name|add_class:"form-control" }}
                {% if form.first_name.errors %}
                    <div class="alert alert-danger">{{ form.first_name.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.last_name.id_for_label }}" class="form-label">Apellido</label>
                {{ form.last_name|add_class:"form-control" }}
                {% if form.last_name.errors %}
                    <div class="alert alert-danger">{{ form.last_name.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.email.id_for_label }}" class="form-label">Correo Electrónico</label>
                {{ form.email|add_class:"form-control" }}
                {% if form.email.errors %}
                    <div class="alert alert-danger">{{ form.email.errors }}</div>
                {% endif %}
                <label for="{{ form.telefono.id_for_label }}" class="form-label">Teléfono / Whatsapp</label>
                {{ form.telefono|add_class:"form-control" }}
                {% if form.telefono.errors %}
                    <div class="alert alert-danger">{{ form.telefono.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.dia_nacimiento.id_for_label }}" class="form-label">Fecha de nacimiento:</label>
                <div class="d-flex align-items-center">
                    <label for="id_dia_nacimiento" class="mx-2">Día:</label>
                    <select name="dia_nacimiento" id="id_dia_nacimiento" class="date-select form-control">
                        {% for val, text in form.dia_nacimiento.field.choices %}
                            <option value="{{ val }}">{{ text }}</option>
                        {% endfor %}
                    </select>
                    <label for="id_mes_nacimiento" class="mx-2">Mes:</label>
                    <select name="mes_nacimiento" id="id_mes_nacimiento" class="date-select form-control">
                        {% for val, text in form.mes_nacimiento.field.choices %}
                            <option value="{{ val }}">{{ text }}</option>
                        {% endfor %}
                    </select>
                    <label for="id_ano_nacimiento" class="mx-2">Año:</label>
                    <select name="ano_nacimiento" id="id_ano_nacimiento" class="date-select form-control">
                        {% for val, text in form.ano_nacimiento.field.choices %}
                            <option value="{{ val }}">{{ text }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="{{ form.contrasena.id_for_label }}" class="form-label">Contraseña</label>
                {{ form.contrasena|add_class:"form-control" }}
                {% if form.contrasena.errors %}
                    <div class="alert alert-danger">{{ form.contrasena.errors }}</div>
                {% endif %}
             <div class="form-group">
                <label for="{{ form.confirmar_contrasena.id_for_label }}" class="form-label">Confirmar Contraseña</label>
                {{ form.confirmar_contrasena|add_class:"form-control" }}
                {% if form.confirmar_contrasena.errors %}
                    <div class="alert alert-danger">{{ form.confirmar_contrasena.errors }}</div>
                {% endif %}
            </div>
            <div class="d-flex justify-content-center" style="margin-top: 20px;">
                <a href={% url 'mercado:perfil' %} class="btn btn-secondary me-5">Volver</a>  <button type="submit" class="btn btn-primary">Registrarse</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}


